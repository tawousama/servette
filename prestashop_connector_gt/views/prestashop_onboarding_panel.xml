<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- ONBOARDING STEPS -->
    <template id="onboarding_prestashop_instance_configuration">
        <t t-call="base.onboarding_step">
            <t t-set="title">Create Instance</t>
            <t t-set="description">Create the new Prestashop instance here.</t>
            <t t-set="done_icon" t-value="'fa-star'"/>
            <t t-set="done_text">company.looks_great!</t>
            <t t-set="btn_text">Create Instance</t>
            <t t-set="model" t-value="'res.config.instance'"/>
            <t t-set="method" t-value="'action_open_prestashop_instance'"/>
<!--            <t t-set="state" t-value="state.get('bigcommerce_basic_configuration_onboarding_state')"/>-->
        </t>
    </template>

    <record id="action_open_base_onboarding_company_custom" model="ir.actions.act_window">
        <field name="name">Set your company data Custom</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">res.company</field>
        <field name="view_mode">form</field>
        <field name="view_id" ref="base.view_company_form"/>
        <field name="target">new</field>
    </record>

<!--    <record id="view_quotation_tree_with_onboarding_presta" model="ir.ui.view">-->
<!--        <field name="name">prestashop.shop</field>-->
<!--        <field name="model">prestashop.shop</field>-->
<!--        <field name="inherit_id" ref="prestashop_connector_gt.prestashop_instance_dashboard_kanban"/>-->
<!--        <field name="mode">primary</field>-->
<!--        <field name="arch" type="xml">-->
<!--            <xpath expr="//kanban" position="attributes">-->
<!--                <attribute name="banner_route">/presta/prestashop_onboarding_panel_custom</attribute>-->
<!--            </xpath>-->
<!--        </field>-->
<!--    </record>-->

    <!--
        Inherited main onboarding view in order to add collapse button
        @param {is_magento_panel(to add button in specified view )}
    -->
    <template id="inherit_onboarding_container" inherit_id="base.onboarding_container">
        <xpath expr="div[hasclass('o_onboarding_container')]" position="before">
            <t t-if="is_magento_panel">
                <button id="magento_button_toggle" t-att-data-company-id="toggle_company_id"
                        type="button"
                        t-att-class="'d-none btn btn-link' if is_button_active else 'btn btn-link'"
                        t-att-style="'background-color:#ececec;border:1px solid #ccc' if hide_panel else ''">
                    <t t-esc="btn_value"></t>
                </button>
            </t>
        </xpath>

        <!-- Changes to class to toogle the onBoadring panel-->
<!--        <xpath expr="div[hasclass('o_onboarding_container')]" position="attributes">-->
<!--            <attribute name="t-att-class">'o_onboarding_container collapse' if hide_panel else 'o_onboarding_container-->
<!--                collapse show'-->
<!--            </attribute>-->
<!--        </xpath>-->

        <!-- Add common class in the close button from onboarding panel-->
        <xpath expr="//div[hasclass('o_onboarding_container')]//a" position="attributes">
            <attribute name="class">float-right o_onboarding_btn_close common_close_button_hide_ept</attribute>
        </xpath>
    </template>


    <!-- ONBOARDING PANEL-->
    <template id="sale_quotation_onboarding_panel_presta" name="sale_quotation_onboarding_panel_presta">
        <t t-call="base.onboarding_container">
            <t t-set="classes" t-value="'o_onboarding_violet'"/>
            <t t-set="bg_image" t-value="'/sale/static/src/img/sale_quotation_onboarding_bg.jpg'"/>
<!--            <t t-set="close_method" t-value="'action_close_sale_quotation_onboarding_custom'"/>-->
            <t t-set="close_model" t-value="'res.company'"/>
<!--            <t t-call="prestashop_connector_gt.onboarding_prestashop_instance_configuration"-->
<!--               name="prestashop_instance_configuration"/>-->
        </t>
    </template>
</odoo>
